{"ast":null,"code":"import React from'react';import{useContext,useEffect,useState}from'react';import{useRef}from'react';import contextvalue from\"../Context/Notes/NoteContext\";import AddNote from'./AddNote';import NoteITEM from\"./NoteITEM\";import{useNavigate}from'react-router-dom';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Notes(props){let context=useContext(contextvalue);let navigate=useNavigate();// let notes=context.notes\nlet{notes,getNotes,EditNote}=context;useEffect(()=>{if(localStorage.getItem(\"token\")){getNotes();}else{navigate(\"/login\");}// eslint-disable-next-line \n},[]);const ref=useRef(null);const refclose=useRef(null);const[note,setnote]=useState({etitle:\"\",eDescription:\"\",etag:\"\",id:\"\"});const updateNote=currentNote=>{ref.current.click();setnote({etitle:currentNote.title,eDescription:currentNote.Description,etag:currentNote.tag,id:currentNote._id});};const AddNoteInDB=value=>{value.preventDefault();console.log(\"Updating the Notes\",note);EditNote(note.etitle,note.eDescription,note.etag,note.id);refclose.current.click();toast.success(\"your note has been updated\");{}};const onchange=e=>{setnote({...note,[e.target.name]:e.target.value});};return/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(AddNote,{showAlert:props.showAlert}),/*#__PURE__*/_jsxs(\"div\",{className:\"model \",children:[/*#__PURE__*/_jsx(\"button\",{ref:ref,type:\"button\",className:\"btn btn-primary modal\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#staticBackdrop\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade glass\",id:\"staticBackdrop\",\"data-bs-backdrop\":\"static\",\"data-bs-keyboard\":\"false\",tabIndex:\"-1\",\"aria-labelledby\":\"staticBackdropLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header glass\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"modal-title fs-5\",id:\"staticBackdropLabel\",children:\"Edit Note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etitle\",className:\"form-label\",children:\"title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"etitle\",id:\"etitle\",onChange:onchange,value:note.etitle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"eDescription\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:note.eDescription,className:\"form-control\",id:\"eDescription\",name:\"eDescription\",onChange:onchange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etag\",className:\"form-label\",children:\"TAG\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:note.etag,className:\"form-control\",id:\"etag\",name:\"etag\",onChange:onchange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"close\",ref:refclose,className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:note.etitle.length<5||note.etag.length<3,className:\"btn btn-primary\",onClick:AddNoteInDB,children:\"Save Changes\"})]})]})})})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-light font-weight-bold bg-dark text-center\",children:\"My Notes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-center text-light fs-1 \",children:notes.length===0?\"Please Add The Notes\":\" \"})}),notes.map(note=>{return/*#__PURE__*/_jsx(NoteITEM,{showAlert:props.showAlert,updateNote:updateNote,note:note},note._id);})]});}","map":{"version":3,"names":["React","useContext","useEffect","useState","useRef","contextvalue","AddNote","NoteITEM","useNavigate","toast","jsx","_jsx","jsxs","_jsxs","Notes","props","context","navigate","notes","getNotes","EditNote","localStorage","getItem","ref","refclose","note","setnote","etitle","eDescription","etag","id","updateNote","currentNote","current","click","title","Description","tag","_id","AddNoteInDB","value","preventDefault","console","log","success","onchange","e","target","name","className","children","showAlert","type","tabIndex","htmlFor","onChange","disabled","length","onClick","map"],"sources":["/Users/hareeshkamble/Desktop/CollabrativeNotes/client/src/Components/Notes.js"],"sourcesContent":["import React from 'react';\nimport { useContext, useEffect, useState } from 'react';\nimport { useRef } from 'react'\nimport contextvalue from \"../Context/Notes/NoteContext\"\nimport AddNote from './AddNote'\nimport NoteITEM from \"./NoteITEM\"\nimport { useNavigate } from 'react-router-dom';\nimport toast from 'react-hot-toast';\n\nexport default function Notes(props) {\n  let context = useContext(contextvalue)\n  let navigate=useNavigate()\n\n  // let notes=context.notes\n  let { notes, getNotes, EditNote } = context\n  useEffect(() => {\n    if(localStorage.getItem(\"token\")){\n      getNotes()\n    }else{\n      navigate(\"/login\")\n    }\n    // eslint-disable-next-line \n  }, [])\n\n  const ref = useRef(null)\n  const refclose = useRef(null)\n  const [note, setnote] = useState({ etitle: \"\", eDescription: \"\", etag: \"\", id: \"\" })\n\n  const updateNote = (currentNote) => {\n    ref.current.click()\n    setnote({ etitle: currentNote.title, eDescription: currentNote.Description, etag: currentNote.tag, id: currentNote._id })\n  }\n  const AddNoteInDB = (value) => {\n    value.preventDefault()\n    console.log(\"Updating the Notes\", note)\n    EditNote(note.etitle, note.eDescription, note.etag, note.id)\n    refclose.current.click()\n    toast.success(\"your note has been updated\")\n{}\n  }\n\n  const onchange = (e) => {\n    setnote({ ...note,[e.target.name]:e.target.value })\n  }\n\n  return (\n    <div className=\"row\">\n      <AddNote showAlert={props.showAlert}/>\n      <div className=\"model \" >\n        <button ref={ref} type=\"button\" className=\"btn btn-primary modal\" data-bs-toggle=\"modal\" data-bs-target=\"#staticBackdrop\">\n        </button>\n        <div className=\"modal fade glass\" id=\"staticBackdrop\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabIndex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\n          <div className=\"modal-dialog\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header glass\">\n                <h1 className=\"modal-title fs-5\" id=\"staticBackdropLabel\">Edit Note</h1>\n                <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n              </div>\n              <div className=\"modal-body\">\n                <div className=\"mb-3\">\n                  <label htmlFor=\"etitle\" className=\"form-label\">title</label>\n                  <input type=\"text\" className=\"form-control\" name='etitle' id=\"etitle\" onChange={onchange}\n                    value={note.etitle} />\n                </div>\n                <div className=\"mb-3\">\n                  <label htmlFor=\"eDescription\" className=\"form-label\">Description</label>\n                  <input type=\"text\" value={note.eDescription} className=\"form-control\" id=\"eDescription\" name=\"eDescription\" onChange={onchange} />\n                </div>\n                <div className=\"mb-3\">\n                  <label htmlFor=\"etag\" className=\"form-label\">TAG</label>\n                  <input type=\"text\" value={note.etag} className=\"form-control\" id=\"etag\" name=\"etag\" onChange={onchange} />\n                </div>\n              </div>\n              <div className=\"modal-footer\">\n                <button type=\"close\" ref={refclose} className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                <button type=\"submit\" disabled={note.etitle.length<5||note.etag.length<3} className=\"btn btn-primary\" onClick={AddNoteInDB}>Save Changes</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <h2 className='text-light font-weight-bold bg-dark text-center'>My Notes</h2>\n      <div className=\"container\"><h2 className='text-center text-light fs-1 '>\n        {notes.length === 0 ? \"Please Add The Notes\" :\" \"}\n      </h2>\n      </div>\n      {notes.map((note) => {\n        return <NoteITEM key={note._id} showAlert={props.showAlert} updateNote={updateNote} note={note} />\n      })}\n\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}